@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  /* Prevent layout shifts during theme transitions */
  header {
    min-height: 4rem; /* 64px - matches h-16 */
  }
  
  /* Ensure consistent logo dimensions */
  .flex-shrink-0 img {
    min-width: 96px; /* Reduced from 120px (20% smaller) */
    height: 1.6rem; /* Reduced from 2rem (20% smaller) - matches h-6 */
    width: auto;
    object-fit: contain; /* Ensure logo maintains aspect ratio */
  }
  
  /* Logo visibility in dark mode */
  .dark .flex-shrink-0 img {
    filter: brightness(0) invert(1); /* Make logo white in dark mode */
  }
  
  /* Footer logo in dark mode */
  .dark footer img {
    filter: brightness(0) invert(1); /* Make footer logo white in dark mode */
  }
  
  /* Prevent theme toggle button from shifting */
  button[aria-label="Toggle dark mode"] {
    position: relative;
    overflow: hidden;
  }
  
  /* Ensure smooth theme transitions without layout shifts */
  .transition-colors {
    transition-property: color, background-color, border-color;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }
  
  /* Focus styles for accessibility */
  *:focus {
    outline: 2px solid #4659a4;
    outline-offset: 2px;
  }
  
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: #f1f5f9;
  }
  
  ::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }
  
  /* Mobile-specific optimizations */
  @media (max-width: 640px) {
    /* Improve touch targets */
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
    
    /* Optimize text readability on small screens */
    h1, h2, h3, h4, h5, h6 {
      line-height: 1.2;
    }
    
    /* Reduce animation intensity on mobile for better performance */
    .animate-pulse, .animate-ping, .animate-bounce {
      animation-duration: 2s;
    }
    
    /* Optimize hover effects for touch devices */
    .hover\:scale-105:hover,
    .hover\:scale-110:hover,
    .hover\:-translate-y-2:hover,
    .hover\:-translate-y-3:hover {
      transform: none;
    }
    
    /* Ensure proper spacing on mobile */
    .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }
  }
  
  /* Touch device optimizations */
  @media (hover: none) and (pointer: coarse) {
    /* Disable hover effects on touch devices */
    .hover\:scale-105,
    .hover\:scale-110,
    .hover\:-translate-y-2,
    .hover\:-translate-y-3 {
      transition: none;
    }
    
    /* Optimize for touch scrolling */
    .overflow-hidden {
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }
  }
  
  /* Mobile Menu Enhancements */
  .mobile-menu-item {
    transition: all 0.2s ease;
  }
  
  .mobile-menu-item:hover {
    transform: translateX(8px);
  }
  
  /* Mobile Menu Icon Animation */
  .mobile-menu-icon {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Mobile Menu Dropdown Animation */
  .mobile-menu-dropdown {
    animation: slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Image Optimization */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }
  
  /* Logo Optimization */
  .flex-shrink-0 img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
  
  /* Dark Mode Image Filtering */
  .dark img[class*="dark:filter"] {
    filter: brightness(0) invert(1);
  }
  
  /* Image Loading States */
  img[loading="lazy"] {
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  img[loading="lazy"].loaded {
    opacity: 1;
  }
}

/* Custom component styles */
@layer components {
  /* Button styles */
  .btn-primary {
    @apply bg-primary-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-primary-700 transition-colors duration-200 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  .btn-secondary {
    @apply bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
  }
  
  .btn-outline {
    @apply border-2 border-primary-600 text-primary-600 dark:text-primary-400 px-6 py-3 rounded-lg font-medium hover:bg-primary-600 hover:text-white transition-colors duration-200 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  /* Card styles */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-all duration-200;
  }
  
  .card-hover {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg hover:border-primary-200 dark:hover:border-primary-600 transition-all duration-200 cursor-pointer;
  }
  
  /* Form styles */
  .form-input {
    @apply w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white;
  }
  
  .form-label {
    @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2;
  }
  
  .form-error {
    @apply text-red-600 text-sm mt-1;
  }
  
  /* Gradient backgrounds */
  .gradient-primary {
    @apply bg-gradient-to-br from-primary-600 to-primary-700;
  }
  
  .gradient-secondary {
    @apply bg-gradient-to-br from-secondary-600 to-secondary-700;
  }
  
  .gradient-hero {
    @apply bg-gradient-to-br from-primary-600 via-primary-700 to-primary-800;
  }
  
  /* Animation classes */
  .fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  .slide-up {
    animation: slideUp 0.5s ease-out;
  }
  
  .scale-in {
    animation: scaleIn 0.3s ease-out;
  }
  
  /* Custom utilities */
  .text-gradient {
    @apply bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent;
  }
  
  .shadow-soft {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
  
  .shadow-medium {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
  
  .shadow-large {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
}

/* Custom Animations */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes typing {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}

@keyframes blink-caret {
  from, to {
    border-color: transparent;
  }
  50% {
    border-color: currentColor;
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes count-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Animation Classes */
.animate-fade-in-up {
  animation: fade-in-up 0.8s ease-out;
}

.typing-animation {
  overflow: hidden;
  border-right: 3px solid;
  white-space: nowrap;
  animation: typing 2s steps(12, end), blink-caret 0.75s step-end infinite;
  animation-delay: 0.5s;
  animation-fill-mode: forwards;
}

.trust-indicator {
  animation: float 3s ease-in-out infinite;
}

.trust-indicator:nth-child(1) {
  animation-delay: 0s;
}

.trust-indicator:nth-child(2) {
  animation-delay: 1s;
}

.trust-indicator:nth-child(3) {
  animation-delay: 2s;
}

/* Metric Box Enhancements */
.metric-box {
  transition: all 0.3s ease;
  transform-style: preserve-3d;
  perspective: 1000px;
  cursor: pointer;
}

.metric-box:hover {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

.metric-box:hover .counter {
  transform: scale(1.1);
  transition: transform 0.2s ease;
}

/* 3D Tilt Effect */
.metric-box.tilt-effect {
  transition: transform 0.1s ease;
}

/* Enhanced Section Title Animation */
.section-title-gradient {
  background: linear-gradient(135deg, #1e40af 0%, #7c3aed 50%, #ec4899 100%);
  background-size: 200% 200%;
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  animation: gradient-shift 3s ease-in-out infinite;
}

@keyframes gradient-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-gradient-shift {
  background-size: 200% 200%;
  animation: gradient-shift 3s ease infinite;
}

/* Immigration at Scale Section Enhancements */

/* Technology Advantage Section - Interactive Dashboard */
.tech-feature-card {
  transition: all 0.3s ease;
}

.tech-feature-card:hover {
  transform: translateX(8px);
}

.dashboard-view {
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.5s ease;
}

.dashboard-view.active {
  opacity: 1;
  transform: translateY(0);
}

.dashboard-view.hidden {
  display: none;
}

/* Dashboard Animation Classes */
.dashboard-view.fade-in {
  animation: dashboardFadeIn 0.5s ease forwards;
}

@keyframes dashboardFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Journey Section - Interactive Timeline */
.journey-step-card {
  transition: all 0.5s ease;
}

.journey-step-card:hover {
  transform: translateY(-8px);
}

.journey-step-preview {
  transition: all 0.5s ease;
}

/* Timeline Progress Animation */
#journey-progress {
  transition: width 1s ease-out;
}

/* Step Card Hover Effects */
.journey-step-card:hover .journey-step-preview {
  opacity: 1;
  transform: translateY(0);
}

/* Journey Step Active State */
.journey-step-card.active {
  transform: scale(1.02);
}

.journey-step-card.active .journey-step-preview {
  opacity: 1;
  transform: translateY(0);
}

/* Enhanced Timeline Animations */
.timeline-particle {
  animation: float-gentle 4s ease-in-out infinite;
}

.step-indicator {
  transition: all 0.3s ease;
}

.step-indicator:hover {
  transform: scale(1.2);
}

.step-number-circle {
  position: relative;
  z-index: 10;
}

.step-label {
  transition: all 0.3s ease;
  position: relative;
}

.step-label::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 50%;
  width: 0;
  height: 2px;
  background: currentColor;
  transition: width 0.3s ease;
  transform: translateX(-50%);
}

.step-label:hover::after {
  width: 100%;
}

/* Enhanced Card Hover Effects */
.journey-step-card:hover .step-number-circle {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Timeline Progress Enhancement */
#journey-progress {
  background: linear-gradient(90deg, 
    rgba(255,255,255,0.9) 0%, 
    rgba(255,255,255,0.7) 50%, 
    rgba(255,255,255,0.5) 100%);
  box-shadow: 0 0 20px rgba(255,255,255,0.3);
}

/* Step Indicator Glow Effects */
.step-indicator .animate-ping {
  animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
}

.step-indicator .animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Enhanced Floating Animation for Particles */
@keyframes float-gentle {
  0%, 100% { 
    transform: translateY(0px) translateX(0px); 
    opacity: 0.4;
  }
  25% { 
    transform: translateY(-8px) translateX(4px); 
    opacity: 0.7;
  }
  50% { 
    transform: translateY(-4px) translateX(-2px); 
    opacity: 0.5;
  }
  75% { 
    transform: translateY(-6px) translateX(3px); 
    opacity: 0.6;
  }
}

/* Enhanced Pulse Glow Animation */
@keyframes pulse-glow {
  0%, 100% { 
    box-shadow: 0 0 20px currentColor;
    transform: scale(1);
  }
  50% { 
    box-shadow: 0 0 40px currentColor, 0 0 60px currentColor;
    transform: scale(1.05);
  }
}

/* Footer Logo Enhancement */
footer img {
  filter: brightness(0) invert(1);
  transition: all 0.3s ease;
}

footer img:hover {
  filter: brightness(0) invert(1) drop-shadow(0 0 8px rgba(255, 255, 255, 0.3));
  transform: scale(1.05);
}

/* Toggle Switch Styles */
.toggle-switch {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle-handle {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle-label {
  transition: color 0.3s ease;
}

/* Smooth Toggle Card Transitions */
.toggle-card-container {
  position: relative;
}

/* Toggle Bullet Point Animations */
.toggle-bullet {
  animation: toggle-blink 2s ease-in-out infinite;
}

.toggle-bullet.red {
  animation-delay: 0s;
}

.toggle-bullet.blue {
  animation-delay: 0.5s;
}

@keyframes toggle-blink {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.2);
  }
}



/* Testimonials Section Animations */
.testimonial-card {
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.testimonial-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
  transition: left 0.5s ease;
}

.testimonial-card:hover::before {
  left: 100%;
}

.testimonial-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

/* Star Rating Animation */
.testimonial-card .fill-current {
  transition: all 0.3s ease;
}

.testimonial-card:hover .fill-current {
  transform: scale(1.1);
  filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.6));
}

/* Verified Badge Animation */
.testimonial-card .bg-green-100 {
  transition: all 0.3s ease;
}

.testimonial-card:hover .bg-green-100 {
  transform: scale(1.1);
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
}

/* Trustpilot CTA Animation */
.testimonial-card + div a {
  transition: all 0.3s ease;
}

.testimonial-card + div a:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
}

/* Blinking Green Dot Animation for Passage Case Study */
@keyframes blink-green {
  0% { 
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.8);
  }
  25% { 
    opacity: 0.3;
    transform: scale(0.7);
    box-shadow: 0 0 0 8px rgba(34, 197, 94, 0.2);
  }
  50% { 
    opacity: 1;
    transform: scale(1.3);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.8);
  }
  75% { 
    opacity: 0.5;
    transform: scale(0.8);
    box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.4);
  }
  100% { 
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.8);
  }
}

.animate-pulse-glow {
  animation: blink-green 2s ease-in-out infinite;
}
.floating-logo {
  animation: float-gentle 4s ease-in-out infinite;
}

@keyframes float-gentle {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-8px);
  }
}

.interactive-bullet {
  transition: all 0.3s ease;
  cursor: pointer;
  padding: 8px 12px;
  border-radius: 8px;
}

.interactive-bullet:hover {
  background: rgba(59, 130, 246, 0.1);
  transform: translateX(8px);
}

.interactive-bullet:hover .bullet-dot {
  transform: scale(1.3);
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.6);
}

.bullet-dot {
  transition: all 0.3s ease;
}

/* Enhanced blinking animation for Passage case study bullet dots */
.bullet-dot.animate-pulse-glow {
  animation: blink-green 2s ease-in-out infinite !important;
  transition: none !important;
  will-change: opacity, transform, box-shadow;
  animation-fill-mode: both;
  animation-delay: 0s;
}

/* Ensure consistent animation timing for all bullet dots */
.bullet-dot.animate-pulse-glow[data-delay] {
  animation-delay: var(--delay, 0s) !important;
}

/* Fallback animation if blink-green doesn't work */
.bullet-dot.animate-pulse-glow:not([style*="animation"]) {
  animation: pulse 1.5s ease-in-out infinite !important;
}

.enterprise-card {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.6s ease;
}

.enterprise-card.animate-in {
  opacity: 1;
  transform: translateY(0);
}

.enterprise-card:nth-child(1) {
  animation-delay: 0.2s;
}

.enterprise-card:nth-child(2) {
  animation-delay: 0.4s;
}

.enterprise-card:nth-child(3) {
  animation-delay: 0.6s;
}

/* Success Metrics Animation */
.success-metric {
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.5s ease;
}

.success-metric.visible {
  opacity: 1;
  transform: scale(1);
}

/* Existing styles continue below */

@keyframes fadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes slideUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Responsive typography */
@layer utilities {
  .text-responsive {
    font-size: clamp(1rem, 2.5vw, 1.25rem);
  }
  
  .text-responsive-lg {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
  }
  
  .text-responsive-xl {
    font-size: clamp(2rem, 6vw, 3.5rem);
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.4;
  }
  
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  
  p, blockquote, table, figure {
    page-break-inside: avoid;
  }
}

/* Enhanced Services Section Interactions */
.services-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.services-card:hover {
  transform: translateY(-8px) scale(1.02);
}

/* Hover Tooltip Animations */
.hover-tooltip {
  opacity: 0;
  transform: translateX(-10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.group:hover .hover-tooltip {
  opacity: 1;
  transform: translateX(0);
}

/* Enhanced Icon Interactions */
.service-icon {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.service-icon:hover {
  transform: scale(1.1) rotate(5deg);
}

/* Ripple Effect for CTA Buttons */
.ripple-effect {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: scale(0);
  animation: ripple 0.6s linear;
  pointer-events: none;
}

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

@keyframes float-gentle {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
  }
  50% {
    transform: translateY(-10px) rotate(180deg);
  }
}

@keyframes pulse-subtle {
  0%, 100% {
    opacity: 0.5;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

/* Enhanced Bullet Point Interactions */
.interactive-bullet {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.interactive-bullet:hover {
  transform: translateX(8px);
}

.bullet-dot {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.interactive-bullet:hover .bullet-dot {
  transform: scale(1.5);
  box-shadow: 0 0 20px currentColor;
}